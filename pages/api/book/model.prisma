
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
    identifier                  String   @id @default(uuid())
    booksBorrowed       Book[] @relation("borrowing")
    booksOwned          Book[] @relation("owning")
}

model Book {
    identifier       String   @id @default(uuid())
    createdAt       DateTime @default(now())   
    updatedAt       DateTime @updatedAt
    title           String
    author          String
    language        String
    description     String?
    isbn            String?
    publishYear     DateTime?
    genre           String[]
    tags            String[]
    isReserved      Boolean @default(false)
    ownerId  String
    owner           User? @relation("owning", fields: [ownerId], references: [identifier])
    borrowerId  String
    borrower        User? @relation("borrowing", fields: [borrowerId], references: [identifier])
}