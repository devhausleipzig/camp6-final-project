datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
    identifier                  String   @id @default(uuid())
    booksBorrowed       Book[] @relation("borrowing")
    booksOwned          Book[] @relation("owning")
	likedBooks      Book[] @relation("liked")

}

model Book {
  identifier String @id @default(uuid())
	createdAt DateTime @default(now())
	updatedAt DateTime @updatedAt
	title String 
	author String 
	language String 
	image String? 
	description String? 
	isbn String? 
	publishYear DateTime? 
	genres Json 
	tags Json 
	isAvailable Boolean @default(true)
	isReserved Boolean @default(false)
	ownerId String 
	owner User? @relation(name: "owning", fields: [ownerId], references: [identifier])
	borrowerId String? 
	borrower User? @relation(name: "borrowing", fields: [borrowerId], references: [identifier])
	borrowDate DateTime? 
	location Location? @relation(name: "booklocation", fields: [locationId], references: [identifier])
	locationId 		String? 
	likedBy         User[] @relation("liked")
}

model Location {
  identifier       String @id 
  books           Book[] @relation("booklocation")
}